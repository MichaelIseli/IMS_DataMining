# -*- coding: utf-8 -*-
# ---------------------------------------------------------------------------
# K_IMS_FieldCalc_BATT.py
# Created on: 2018-02-01 20:59:29.00000
#   (generated by ArcGIS/ModelBuilder)
# Description: 
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy

# Load required toolboxes
arcpy.ImportToolbox("Model Functions")


# Local variables:
SOIR_Analysis = "H:\\12e_Analysis\\Analysis.gdb\\SOIR_View\\SOIR_Analysis"
SOIR_Analysis_Layer = "SOIR_Analysis_Layer"
IncSelectedByBATT = SOIR_Analysis_Layer
IncBATT = IncSelectedByBATT
BattBND_IncTerritory = "H:\\12e_Analysis\\Analysis.gdb\\BaseData\\BattBND_IncTerritory"
BattBND_IncTerritory_Select = "C:\\Users\\iseli\\Documents\\ArcGIS\\Default.gdb\\BattBND_IncTerritory_Select(2)"
I_BattBND_IncTerritory_Select_2_ = BattBND_IncTerritory_Select
BATTName = I_BattBND_IncTerritory_Select_2_
SOIR_Analysis_Layer_2_ = IncBATT
Value = "1"

# Process: Make Feature Layer
arcpy.MakeFeatureLayer_management(SOIR_Analysis, SOIR_Analysis_Layer, "", "", "OBJECTID_1 OBJECTID_1 VISIBLE NONE;Shape Shape VISIBLE NONE;OBJECTID OBJECTID VISIBLE NONE;incID incID VISIBLE NONE;Sector Sector VISIBLE NONE;Severity Severity VISIBLE NONE;Category Category VISIBLE NONE;Type Type VISIBLE NONE;TypeCode TypeCode VISIBLE NONE;ReportedBy ReportedBy VISIBLE NONE;Source Source VISIBLE NONE;Date Date VISIBLE NONE;Time Time VISIBLE NONE;Location Location VISIBLE NONE;UTM UTM VISIBLE NONE;ActionTake ActionTake VISIBLE NONE;Confirmati Confirmati VISIBLE NONE;FIR FIR VISIBLE NONE;StatusFIR StatusFIR VISIBLE NONE;SOI SOI VISIBLE NONE;StatusSOI StatusSOI VISIBLE NONE;DAIR DAIR VISIBLE NONE;StatusDAIR StatusDAIR VISIBLE NONE;EmailFromJ EmailFromJ VISIBLE NONE;FlagFromJO FlagFromJO VISIBLE NONE;EmailToJOC EmailToJOC VISIBLE NONE;FlagToJOC FlagToJOC VISIBLE NONE;StatusFina StatusFina VISIBLE NONE;Updated Updated VISIBLE NONE;Remark Remark VISIBLE NONE;created_us created_us VISIBLE NONE;created_da created_da VISIBLE NONE;last_edite last_edite VISIBLE NONE;last_edi_1 last_edi_1 VISIBLE NONE;AlertSMS AlertSMS VISIBLE NONE;AlertEmail AlertEmail VISIBLE NONE;EmailGroup EmailGroup VISIBLE NONE;EmailGro_1 EmailGro_1 VISIBLE NONE;EmailGro_2 EmailGro_2 VISIBLE NONE;EmailGro_3 EmailGro_3 VISIBLE NONE;GlobalID GlobalID VISIBLE NONE;EmailLastU EmailLastU VISIBLE NONE;EmailLastD EmailLastD VISIBLE NONE;EmailLas_1 EmailLas_1 VISIBLE NONE;EmailLas_2 EmailLas_2 VISIBLE NONE;ReleasedBy ReleasedBy VISIBLE NONE;BBBB BBBB VISIBLE NONE;SDE_STATE_ SDE_STATE_ VISIBLE NONE;DayNUM DayNUM VISIBLE NONE;MonthInc MonthInc VISIBLE NONE;YearInc YearInc VISIBLE NONE;MonthNum MonthNum VISIBLE NONE;MonthAge MonthAge VISIBLE NONE;WeekNUM WeekNUM VISIBLE NONE;BATT BATT VISIBLE NONE;WEIincS WEIincS VISIBLE NONE;WEIincA WEIincA VISIBLE NONE;incWEIGHT incWEIGHT VISIBLE NONE;RdType RdType VISIBLE NONE;InPosn InPosn VISIBLE NONE;InBuiltUp_A InBuiltUp_A VISIBLE NONE;NoPeople_Inc NoPeople_Inc VISIBLE NONE;WeekDayNUM WeekDayNUM VISIBLE NONE;Municipality Municipality VISIBLE NONE;Night Night VISIBLE NONE;IVO_BL IVO_BL VISIBLE NONE;WeightAge WeightAge VISIBLE NONE;THR_Relevance THR_Relevance VISIBLE NONE;TotalTHR_Weight TotalTHR_Weight VISIBLE NONE;GRID_ID GRID_ID VISIBLE NONE;WeekNUMyear WeekNUMyear VISIBLE NONE;MUN_OID MUN_OID VISIBLE NONE;yearcount yearcount VISIBLE NONE")

# Process: Select Layer By Location
arcpy.SelectLayerByLocation_management(SOIR_Analysis_Layer, "INTERSECT", "", "", "NEW_SELECTION", "NOT_INVERT")

# Process: Select_CurrentFeatures
arcpy.Select_analysis(BattBND_IncTerritory, BattBND_IncTerritory_Select, "Record_Status = '1' AND Level_ = 'Btn' OR Level_ = 'COUNTRY' AND Name <> 'LEB_SLS'")

# Process: Iterate Feature Selection
arcpy.IterateFeatureSelection_mb(BattBND_IncTerritory_Select, "", "false")

# Process: Get Field Value
arcpy.GetFieldValue_mb(I_BattBND_IncTerritory_Select_2_, "Name", "String", "")

# Process: Calculate Field
arcpy.CalculateField_management(IncSelectedByBATT, "BATT", BATTName, "VB", "")

# Process: ClearSelection
arcpy.SelectLayerByAttribute_management(IncBATT, "CLEAR_SELECTION", "")

